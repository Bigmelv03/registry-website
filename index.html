<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Iglesia Buenas Nuevas ‚Äì Lista de Regalos por Fases</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
:root {
  --bg: #181818;
  --card: #23283a;
  --ink: #ffffff;
  --ink2: #aac;
  --ink3: #d6eaff;
  --cyan: #6ef;
  --link: #7cf;
  --price: #7fa;
  --accent: #ff9100;
  --note: #fc5;
  --shadow: 0 1px 8px #0004;
}

/* General layout */
body {
  background: var(--bg);
  color: var(--ink);
  font-family: 'Segoe UI', Arial, sans-serif;
  margin: 0;
  padding: 1em;
}
h1 { margin: 0 0 .6em 0; }
h2 { color: var(--cyan); margin-top: 1.7em; margin-bottom: 0.1em; }
.en { color: var(--ink2); font-size: 0.93em; margin: 0 0 0.7em 0; }

/* Message Card */
.message-card {
  display: none;
  background: var(--card);
  border-left: 6px solid var(--accent);
  box-shadow: var(--shadow);
  color: var(--ink3);
  padding: 1em 1.2em;
  border-radius: 10px;
  margin: 1.6em 0 2.2em 0;
  white-space: pre-line;
  text-align: center;
  font-size: 1.05em;
}
.message-card.active { display: block; }

/* Cards Grid */
.phase-items {
  display: flex;
  flex-wrap: wrap;
  gap: 1.2em;
  margin: 2.2em 0;
  justify-content: center;
  align-items: stretch;
}
.item {
  width: 215px;
  background: var(--card);
  border-radius: 12px;
  padding: 0.65em 0.5em 0.9em 0.5em;
  text-align: center;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  position: relative;
}
.item img {
  max-width: 100%;
  max-height: 115px;
  margin-bottom: 0.6em;
  border-radius: 6px;
  background: #111;
  cursor: pointer;
  transition: transform 0.25s ease;
}
.item img:hover { transform: scale(1.03); }
.item-title {
  font-size: 1.07em;
  font-weight: 700;
  margin-bottom: 0.2em;
  min-height: 2.6em;
}
.price {
  font-size: 1.07em;
  color: var(--price);
  font-weight: 700;
  margin-bottom: 0.15em;
}
.qty { font-size: .96em; color: #fff9; margin-bottom: 0.3em; }
.desc {
  font-size: 0.97em;
  color: var(--ink3);
  margin-bottom: 0.33em;
  white-space: pre-line;
  flex: 1;
  display: flex;
  align-items: flex-end;
}

/* Badges */
.badge {
  position: absolute;
  top: -8px; left: -8px; right: -8px;
  background: #ff3b3b;
  color: white;
  font-weight: bold;
  font-size: 0.9em;
  border-radius: 8px 8px 0 0;
  padding: 0.4em 0.2em;
  box-shadow: 0 0 4px #0005;
  text-shadow: 0 0 2px #000a;
}
.badge.yellow { background: #ffd93b; color: #222; text-shadow: none; }
.badge.green {
  background: #00ff80;
  color: #003300;
  animation: neonflash 1s linear infinite alternate;
  box-shadow: 0 0 6px #00ff80;
}
@keyframes neonflash {
  0% { opacity: 1; box-shadow: 0 0 4px #00ff80, 0 0 10px #00ff80; }
  100% { opacity: 0.6; box-shadow: 0 0 6px #00ff80, 0 0 14px #00ff80; }
}

/* QR & Registry Section */
.registry-actions {
  width: 100%;
  clear: both;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.8em;
  margin: 2.2em 0;
}
.qr {
  text-align: center;
  margin: 0.9em 0;
}
.qr img {
  width: 128px;
  height: 128px;
  border-radius: 10px;
  border: 4px solid var(--accent);
  background: #fff;
  box-shadow: 0 1px 12px #0003;
}
.qr .cap {
  color: var(--accent);
  font-weight: 800;
  margin-top: .55em;
}
.qr .cap small {
  color: #aaa;
  font-weight: 600;
  display: block;
  margin-top: .15em;
}
.flash-reminder {
  font-weight: bold;
  color: #ffe53b;
  text-align: center;
  margin: 0.9em 0;
  animation: flash 0.4s linear infinite alternate;
  font-size: 1.08em;
  letter-spacing: .01em;
  text-shadow: 0 0 7px #fff6, 0 2px 0 #a43, 0 1px 8px #a43c;
  min-height: 3.5em;
  line-height: 1.2;
}
@keyframes flash {
  0% { opacity: 1; }
  65% { opacity: 1; }
  100% { opacity: 0.3; }
}
.button {
  margin: 1.2em 0;
  display: block;
  width: 99%;
  max-width: 420px;
  background: var(--accent);
  color: #fff;
  border: none;
  font-size: 1.12em;
  border-radius: 10px;
  padding: 0.9em 0.1em;
  text-align: center;
  font-weight: 800;
  cursor: pointer;
  text-decoration: none;
  box-shadow: 0 3px 14px #0006;
}

/* Info Cards */
.note {
  font-size: 1.01em;
  color: var(--note);
  margin: 1.2em 0 1.1em 0;
  text-align: center;
  background: #2a2822;
  border-radius: 10px;
  padding: 1em;
}
.top-card {
  background: var(--card);
  border-radius: 12px;
  padding: 1.1em 1.2em 1.3em 1.2em;
  box-shadow: var(--shadow);
}
.glory-flash {
  color: #ffe53b;
  font-weight: 900;
  animation: flash-excite 0.32s linear infinite alternate;
  text-align: center;
  font-size: 1.14em;
}
@keyframes flash-excite {
  0% { opacity: 1; }
  100% { opacity: 0.32; }
}
.phase-intro { margin-bottom:1.0em; white-space:pre-line; }
.small { font-size:.92em; color:#ddd; }

/* Modal */
.modal-img-bg {
  display: none;
  position: fixed; z-index: 1000;
  left: 0; top: 0; width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.84);
  justify-content: center; align-items: center;
}
.modal-img-bg.active { display: flex; }
.modal-img-bg img {
  max-width: 94vw; max-height: 88vh;
  border-radius: 13px;
  box-shadow: 0 2px 22px #000a;
}
.modal-img-bg:after {
  content: "‚úï";
  position: absolute; top: 2.3em; right: 2.7em;
  color: #fff; font-size: 2.3em; font-weight: bold; cursor: pointer; z-index: 2000;
}

/* Responsive */
@media (max-width: 860px) {
  .phase-items { justify-content: center; }
  .item { width: 92vw; max-width: 350px; margin-left: auto; margin-right: auto; }
}
@media (max-width: 650px) {
  .modal-img-bg:after { top: 0.6em; right: 0.9em; font-size: 2em; }
}
@media (max-width: 520px) {
  .phase-items { gap: 1em; }
  .item { width: 98vw; max-width: 99vw; }
  .registry-actions { gap: 1em; margin: 1.2em 0 1.2em 0; }
}
</style>
</head>
<body>

  <h1>Iglesia Buenas Nuevas - Registro de sistemas de sonido</h1>
  <h2><span class="en" style="color:#aac;font-size:1.3em;">Good News Church - Sound System Registry</span></h2>

  <div id="messageCard" class="message-card"></div>

  <!-- =========================
     TESTIMONIO DE BENDICI√ìN / BLESSING TESTIMONY
     ========================= -->
<div class="top-card" style="margin:2.2em 0 2.2em 0; border-top:4px solid #ff9100;">
      <div class="glory-flash" style="margin-top:1.0em;">¬°Toda la gloria a √âl!</div>
  <br><br>
  Dios ya ha comenzado a bendecir este proyect
  El 23 de octubre de 2025, ¬°pudimos comprar la bater√≠a electr√≥nica con un descuento especial de $144 durante una oferta rel√°mpago de solo dos horas!<br>
  Es una confirmaci√≥n de que el Se√±or est√° abriendo puertas y proveyendo exactamente lo que necesitamos, en el momento perfecto.<br>
  Seguimos adelante con fe, confiando en que cada fase ser√° respaldada por Su provisi√≥n y gracia.<br><br>
      <div class="glory-flash" style="margin-top:1.0em;">To God be the glory!</div><br><br>
      
    God is already starting to bless us in this project, and we want to share it with everyone.<br>
    On 10-23-2025, we were able to purchase the electronic drum set at a special $144 discount during a two-hour lightning deal!<br>
    It‚Äôs proof that the Lord is opening doors and providing exactly what we need at just the right time.<br>
    We continue moving forward in faith, trusting that every phase will be covered by His provision and grace.

</div>

  <!-- INTRO STORY -->
<div class="top-card" style="margin:2.2em 0 2.2em 0; border-top:4px solid #ff9100;">
      <h2 style="color:#ff9100; margin-top:1em;">
  El Coraz√≥n Detr√°s del Proyecto / The Heart Behind the Project
</h2><br><br>

  <b>¬°Hola familia! Gracias por apoyar el ministerio de sonido. üôåüèΩ</b>
  <br><br>
  Nuestra congregaci√≥n Buenas Nuevas ya comenz√≥ y nos reunimos cada semana. Por ahora, nos ‚Äúdefendemos‚Äù con bocinas personales y micr√≥fonos b√°sicos, lo que hace que las voces se pierdan entre la m√∫sica y todo quede un poco fuera de balance; a veces ni siquiera se entiende bien a la Pastora. Nos alcanza por ahora, pero seamos honestos: no podemos quedarnos as√≠. Dios no solo nos llama a conformarnos‚Äî√âl nos llama a *cultivar* y mejorar lo que nos ha dado, como Ad√°n en el jard√≠n. Dios nos da el espacio, pero es nuestro trabajo cultivarlo y convertirlo en iglesia, justamente lo que hemos estado orando. Cada paso que damos es nuestra manera de honrar al Se√±or y usar bien el dinero y los recursos que √âl nos ha confiado (‚Äúel se√±or les dio a sus siervos talentos, cada uno seg√∫n su capacidad‚Äù; somos llamados a multiplicar lo que √âl nos da ‚Äì Mat. 25:14-30).<br><br>
  <b>Como familia en Cristo, avanzamos en unidad, poniendo el coraz√≥n en todo lo que hacemos (Col. 3:23). Cada regalo‚Äîgrande o peque√±o‚Äîes una inversi√≥n directa en el futuro de Buenas Nuevas y en el Reino de Dios. ¬°Gracias por sembrar en este ministerio y por creer que juntos, como familia, podemos hacer crecer lo que Dios nos ha dado! üíô</b>
  <hr style="border: none; border-top: 1px solid #ff9100; margin:1.2em 0;">
  <b>Hello family! Thank you for supporting our sound ministry. üôåüèΩ</b>
  <br><br>
  Our Buenas Nuevas congregation has already begun and meets weekly. For now, we‚Äôre getting by with our personal practice speakers and basic microphones, which means voices get lost in the music, and our sound is off balance; sometimes it‚Äôs even hard to understand Pastora clearly. It gets us by for now, but let‚Äôs be honest‚Äîwe can‚Äôt stay like this. God doesn‚Äôt just call us to make do; He calls us to *cultivate* and improve what He‚Äôs given us, just like Adam in the garden. God provides the space, but it‚Äôs our job to cultivate it into a church‚Äîthe very thing we‚Äôve been praying for. Every step we take is our way of honoring Him and using well the money and resources He‚Äôs entrusted to us (‚Äúthe master gave each servant talents, each according to their ability‚Äù; we are to multiply with what He has given us ‚Äì Mat. 25:14-30).<br><br>
  <b>As one family in Christ, we move in unity, putting our hearts into everything we do (Col. 3:23). Every gift‚Äîlarge or small‚Äîis a direct investment in the future of Buenas Nuevas and God‚Äôs Kingdom. Thank you for sowing into this ministry and believing that together, as a family, we can grow what God has given us! üíô</b>
</div>

  <!-- INSTRUCTIONS -->

<div class="note" style="margin-top:2.2em 0 2.2em 0; border-top: 4px solid #ff9100;">
<h2 style="color:#ff9100; margin-top:1em;">
¬øC√≥mo Funciona la Lista por Fases? / How the Phase List Works
</h2><br><br>

  Hemos dividido la lista en fases para ayudar a organizar y priorizar las necesidades del ministerio. <b>Fase 1</b> es la prioridad, y los art√≠culos en cada fase est√°n ordenados de mayor a menor importancia. Cuando se completa una fase, avanzamos a la siguiente.<br>
  <br>
  Cada fase tiene un <b>c√≥digo QR</b> que te lleva a la misma lista de regalos. Usa el QR para compartir f√°cilmente esta p√°gina con amigos, familiares o quienes deseen apoyar. <b>Nota:</b> La p√°gina no marca autom√°ticamente los art√≠culos donados; si un art√≠culo ya no aparece en la lista, es probable que ya fue comprado. Comprar por fase es solo una recomendaci√≥n‚Äî¬°puedes escoger cualquier art√≠culo que desees! Si tienes preguntas sobre lo que a√∫n falta, comun√≠cate con nosotros.<br><br>
    <hr style="border: none; border-top: 1px solid #ff9100; margin:1.2em 0;"><br>
  <span style="color:#aaa; font-size:0.95em;">
    We‚Äôve divided the list into phases to help organize and prioritize the ministry‚Äôs needs. <b>Phase 1</b> is the highest priority, and each phase‚Äôs items are listed from most to least important. Once a phase is complete, we move on to the next.<br><br>
    Each phase has a <b>QR code</b> that links to the same registry list. Use the QR to easily share this page with friends, family, or anyone who wants to help. <b>Note:</b> The registry page doesn‚Äôt automatically show received items; if you don‚Äôt see something listed, it‚Äôs probably already been purchased. Buying by phase is just a suggestion‚Äîfeel free to purchase any item you‚Äôd like! If you‚Äôre unsure what‚Äôs still needed, just reach out to us.
  </span>
</div>
<br>
  <!-- ORDERING NOTE + TOP QR -->
  
  <div class="note" style="margin-top:2.2em; border-top: 4px solid #ff9100;">
      <h2 style="color:#ff9100; margin-top:1em;">
  ¬øC√≥mo Hacer Tu Pedido? / How to Order
</h2><br><br>
    <b>Por favor, ordene solamente desde nuestro registro oficial usando los botones naranjas o el c√≥digo QR.
    Si no ve un art√≠culo en el registro, probablemente ya fue comprado.</b><br>
 <hr style="border: none; border-top: 1px solid #ff9100; margin:1.2em 0;">
    <span class="en" style="display:block;margin-top:.6em;color:#fff">Please order only from our official registry using the orange buttons or the QR code.
    If an item isn‚Äôt visible in the registry, it has likely already been purchased.</span>
  </div>
  </div>

  <!-- =========================
       Dynamic Phases (1‚Äì6)
       ========================= -->
  <div id="phases"></div>

  <!-- Modal for enlarged images -->
  <div id="imgModal" class="modal-img-bg">
    <img id="modalImg" src="">
  </div>
  
  <style>
/* --- ITEM CARD LAYOUT --- */
.phase-items {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: stretch;
  gap: 1.2em;
  margin: 2em 0;
}

.item {
  flex: 1 1 215px;
  max-width: 260px;
  background: var(--card);
  border-radius: 12px;
  padding: 0.9em 0.8em 1.1em 0.8em;
  text-align: center;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}

/* --- BADGE --- */
.badge {
  width: 100%;
  border-radius: 10px 10px 0 0;
  padding: 0.55em 0.5em;
  font-weight: 700;
  font-size: 0.95em;
  text-align: center;
  margin-bottom: 0.7em; /* space between badge and image */
  color: #fff;
}
.badge.yellow {
  background: #ffd93b;
  color: #222;
}
.badge.green {
  background: #00ff99;
  color: #003300;
  animation: flash 0.4s infinite alternate;
  text-shadow: 0 0 6px #00ff99, 0 0 12px #00ff99;
}
@keyframes flash {
  0% { opacity: 1; }
  100% { opacity: 0.7; }
}

/* --- IMAGE --- */
.item img {
  width: 100%;
  max-height: 130px;
  object-fit: contain;
  border-radius: 8px;
  margin-bottom: 0.8em;
}

/* --- TEXT --- */
.item-title {
  font-weight: 600;
  font-size: 1.05em;
  margin-bottom: 0.3em;
}
.item-title .en {
  font-size: 0.9em;
  color: var(--ink2);
}

.price {
  color: #18ff9f; /* bright mint green */
  font-weight: 800;
  font-size: 1.1em;
  margin: 0.2em 0 0.4em 0;
}

.qty {
  font-size: 0.9em;
  color: #eee;
  margin-bottom: 0.8em;
}

.desc {
  font-size: 0.9em;
  color: var(--ink3);
  line-height: 1.4;
  text-align: left;
  white-space: pre-line;
}

/* Final polish pass */
.item {
  position: relative;
  padding-top: 0.8em;
  margin-top: 1.2em;
}

/* Make badge hover cleanly above image */
.badge {
  width: calc(100% + 1.6em);
  margin-top: -1.4em;
  margin-bottom: 0.9em;
  border-radius: 10px 10px 0 0;
  padding: 0.5em 0.2em;
  font-weight: 700;
  font-size: 0.95em;
  box-shadow: 0 2px 6px #0005;
  text-align: center;
}

.badge.green {
  background: linear-gradient(90deg, #00d57f, #00ff9f);
  color: #003a20;
  text-shadow: none;
}

.badge.yellow {
  background: linear-gradient(90deg, #ffe53b, #ffc400);
  color: #222;
}

.badge {
  animation: none; /* kills the seizure strobe */
}

/* Better spacing below price and between text lines */
.price {
  color: #32ff8e;
  margin-bottom: 0.5em;
}

.qty {
  color: #ddd;
  font-size: 0.95em;
  margin-bottom: 0.9em;
}

.desc {
  line-height: 1.45;
  color: #e4eeff;
  margin-top: 0.3em;
}

/* Slightly darker card to make colors pop */
.item {
  background: #222a3a;
}

/* ===== FINAL SPACING + BADGE FIX ===== */

.item {
  position: relative;
  background: #222a3a;
  border-radius: 12px;
  padding: 1.1em 0.8em 1.3em 0.8em;
  margin-top: 1.6em;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  box-shadow: 0 1px 10px #0004;
}

.badge {
  position: relative;
  top: -0.4em;
  width: 90%;
  margin-bottom: 0.7em;
  border-radius: 10px;
  padding: 0.45em 0.2em;
  font-weight: 700;
  font-size: 0.95em;
  text-align: center;
  box-shadow: 0 3px 6px #0005;
}

.badge.green {
  background: linear-gradient(90deg, #00d57f, #00ff9f);
  color: #003a20;
}

.badge.yellow {
  background: linear-gradient(90deg, #ffe53b, #ffc400);
  color: #222;
}

.badge:not(.green):not(.yellow) {
  background: linear-gradient(90deg, #ff4a4a, #ff0000);
  color: #fff;
}

.item img {
  margin-top: 0.4em;
  margin-bottom: 1em;
  max-width: 100%;
  border-radius: 8px;
  background: #111;
  padding: 0.2em;
}

.price {
  color: #00ff80;
  font-weight: 700;
  font-size: 1.1em;
  margin: 0.3em 0 0.5em 0;
}

.qty {
  color: #ccc;
  font-size: 0.97em;
  margin-bottom: 0.9em;
}

.desc {
  color: #e6eeff;
  line-height: 1.5;
  font-size: 0.95em;
}

/* === FINAL LAYOUT POLISH === */

.item {
  position: relative;
  background: #222a3a;
  border-radius: 14px;
  padding: 1.4em 1.4em 1.6em 1.4em;
  margin: 1.8em auto;
  width: 340px;
  max-width: 94vw;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  box-shadow: 0 3px 12px #0005;
}

/* Sleek smaller pill badge */
.badge {
  display: inline-block;
  padding: 0.4em 1.3em;
  border-radius: 999px;
  font-weight: 700;
  font-size: 0.9em;
  margin-bottom: 1em;
  box-shadow: 0 3px 10px #0006;
}

.badge.green {
  background: radial-gradient(circle at center, #00ff9f 30%, #00c070 90%);
  color: #003820;
}

.badge.yellow {
  background: radial-gradient(circle at center, #ffe53b 30%, #ffb300 90%);
  color: #222;
}

.badge:not(.green):not(.yellow) {
  background: radial-gradient(circle at center, #ff4a4a 30%, #c40000 90%);
  color: #fff;
}

.item img {
  margin-top: 0.3em;
  margin-bottom: 1em;
  max-width: 100%;
  border-radius: 10px;
  background: #111;
  padding: 0.2em;
}

.price {
  color: #00ff80;
  font-weight: 700;
  font-size: 1.15em;
  margin: 0.2em 0 0.5em 0;
}

.qty {
  color: #ccc;
  font-size: 0.97em;
  margin-bottom: 1em;
}

/* Space between Spanish and English descriptions */
.desc br + * {
  display: block;
  margin-top: 0.9em;
}

.desc {
  color: #e6eeff;
  line-height: 1.55;
  font-size: 0.95em;
  text-align: left;
}

/* === REFINEMENT PATCH === */

/* Remove black background and extra padding from image */
.item img {
  margin-top: 0.4em;
  margin-bottom: 1em;
  max-width: 100%;
  border-radius: 10px;
  background: none;
  padding: 0;
  display: block;
}

/* Fix badge color contrast and size */
.badge {
  display: inline-block;
  padding: 0.4em 1.2em;
  border-radius: 999px;
  font-weight: 700;
  font-size: 0.9em;
  margin-bottom: 1em;
  box-shadow: 0 3px 10px #0006;
}

.badge.green {
  background: linear-gradient(90deg, #00e676, #00c853);
  color: #fff; /* white text */
}

.badge.yellow {
  background: linear-gradient(90deg, #ffe53b, #ffb300);
  color: #222;
}

.badge:not(.green):not(.yellow) {
  background: linear-gradient(90deg, #ff4a4a, #c40000);
  color: #fff;
}

/* Space between Spanish and English paragraphs */
.desc {
  color: #e6eeff;
  line-height: 1.55;
  font-size: 0.95em;
  text-align: left;
}

.desc br {
  display: block;
  margin-top: 0.9em;
  content: "";
}

.desc p {
  margin: 0.6em 0;
  text-align: left;
  display: block;
  width: 100%;
}

.badge {
  display: inline-block;
  margin: 0 auto 12px auto; /* centers horizontally, adds space below */
  padding: 8px 18px;
  border-radius: 18px;
  font-weight: 600;
  font-size: 0.95em;
  text-align: center;
  color: #fff; /* ensures visibility */
  position: relative;
  left: 50%;
  transform: translateX(-50%);
}

.badge.green {
  background: linear-gradient(90deg, #00b862, #00ff8c);
  color: #fff;
}

.badge.yellow {
  background: linear-gradient(90deg, #ffc400, #ff9100);
  color: #000;
}

.badge.red {
  background: linear-gradient(90deg, #d50000, #ff1744);
  color: #fff;
}
</style>

  <script>
/* =========================
   CONFIG
   ========================= */
const API_URL = "https://script.google.com/macros/s/AKfycbxTvUMgfiDCpxxtgXBpSaR0JxOAWcqUzXL_mvo6Q-k6Oae9GD5zUC3C9-RAZdKgYpV_yw/exec";

/* =========================
   PHASE INTROS
   ========================= */
const phaseIntros = {
  1: {
    title_es: "üß± Fase 1 ‚Äì Sistema de Sonido Base",
    title_en: "Phase 1 ‚Äì Core Sound System Infrastructure",
    sub_es: "(Infraestructura esencial de sonido: rack, energ√≠a, bandeja, router, mezcladora, entradas y salidas principales)",
    sub_en: "(Core sound system infrastructure: rack, power, shelf, router, mixer, main inputs and outputs)",
    
    
    body: `¬°Esta fase es el primer gran paso como familia! Aqu√≠ estamos poniendo las bases de todo lo que viene: por fin tendremos nuestro propio sistema de sonido, listo para crecer con nosotros. Cada pieza representa una inversi√≥n en nuestra iglesia y en cada uno de nosotros‚Äî¬°en unidad y con excelencia! S√≠, es la etapa m√°s costosa, pero tambi√©n la m√°s emocionante: incluye el rack donde ir√° todo el equipo, el mezclador que hace posible el sonido profesional, el router para conectarnos y los altavoces para escuchar con claridad, justo como debe ser. Con esta fase, ¬°nuestro sue√±o comienza a tomar forma!
<hr style="border:none; border-top:1px solid #ff9100; margin:1.2em 0;">
This is our very first big step together as a church family! Here we‚Äôre laying the foundation for everything that‚Äôs to come‚Äîfinally getting our own sound system, ready to grow with us. Every piece is an investment in our church and in each of us‚Äîcoming together in unity and excellence! Yes, this is the most expensive phase, but it‚Äôs also the most exciting: it includes the rack for all the equipment, the mixer for professional sound, the router to connect us, and the speakers so we can finally hear every word and every note, just like it‚Äôs supposed to be. With this phase, our dream starts to become reality!`
  },

  2: {
    title_es: "üé§ Fase 2 ‚Äì Micr√≥fonos, Monitores y Accesorios",
    title_en: "Phase 2 ‚Äì Microphones, Monitors, and Accessories",
    sub_es: "(Sistema de micr√≥fonos inal√°mbricos, bater√≠as, cargador, e integraci√≥n del sistema de monitores in-ear)",
    sub_en: "(Wireless microphone system, batteries, charger, and integrating our in-ear monitor system)",
    body: `Todos sabemos que hemos hecho lo posible con lo que tenemos: usando esos micr√≥fonos b√°sicos que ven√≠an con la bocina Bluetooth. Pero la calidad de sonido simplemente no es suficiente para una iglesia que est√° creciendo. Muchas veces, el eco de la sala y el volumen bajo hacen dif√≠cil entender cada palabra, y la Pastora no siempre se escucha clara. Un solo altavoz en el piso tampoco logra que todos reciban el mensaje igual de bien.

Por eso, esta fase nos emociona: finalmente podremos tener micr√≥fonos inal√°mbricos de verdad y equipo organizado. Vamos a guardar y cargar todos los micr√≥fonos y bater√≠as en un solo lugar, y cada domingo todo estar√° listo para servir con excelencia. Adem√°s, nuestro sistema de monitoreo personal (aud√≠fonos inal√°mbricos) permitir√° que el equipo de alabanza se escuche perfectamente, tocando y cantando como debe ser‚Äî¬°sin m√°s calidad pobre ni soluciones temporales!

Esta mejora es un paso enorme de fe y unidad, para que juntos experimentemos el sonido n√≠tido y profesional que nuestra iglesia merece.
<hr style="border:none; border-top:1px solid #ff9100; margin:1.2em 0;">
We‚Äôve all been doing our best with what we have‚Äîusing those basic microphones that came with the Bluetooth speaker. But let‚Äôs be honest: the sound quality just isn‚Äôt enough for a growing church. The echo in the room and low volume make it tough to understand every word, and Pastora isn‚Äôt always as clear as we want her to be. One little floor speaker doesn‚Äôt reach everyone the way it should.

That‚Äôs why this phase is so exciting: we‚Äôll finally have real wireless microphones and an organized setup. We‚Äôll be able to store and charge all our microphones and batteries in one place, so every Sunday everything is ready to serve with excellence. Plus, our personal in-ear monitor system (wireless headphones) will let the worship team hear each other perfectly, playing and singing the way it‚Äôs meant to be‚Äîno more poor sound or temporary fixes!

This upgrade is a big step of faith and unity, so together we can experience the clear, professional sound our church truly deserves.`
  },

  3: {
    title_es: "üì° Fase 3 ‚Äì M√°stil de Antenas y Cables",
    title_en: "Phase 3 ‚Äì Antenna Mast & Cabling",
    sub_es: "(Tr√≠pode + tubo, soportes, cables BNC/RP-SMA‚ÄîRF/WiFi limpio y confiable)",
    sub_en: "(Tripod + pole, brackets, BNC/RP-SMA extensions‚Äîclean, reliable RF/Wi-Fi)",
    body: `¬°Ahora no es momento de aflojar! Cada paso nos acerca m√°s a ese sonido excelente que anhelamos como familia. Las antenas que vamos a instalar ayudar√°n a que nuestros micr√≥fonos y monitores funcionen siempre bien, sin ruidos ni p√©rdidas de se√±al, incluso cuando la iglesia est√© llena o todos est√©n movi√©ndose en el escenario. Esta fase tambi√©n hace que nuestro escenario se vea m√°s limpio y seguro, con todos los cables bien organizados para un resultado profesional.

Sigamos adelante con √°nimo y fe, porque juntos estamos logrando algo especial para todos.
<hr style="border:none; border-top:1px solid #ff9100; margin:1.2em 0;">
Now‚Äôs not the time to slow down! Every step gets us closer to the amazing sound we‚Äôre building together as a family. These antennas will help our microphones and monitors work their best‚Äîno more dropouts or noisy signal, even when the church is full or everyone‚Äôs moving around up front. This phase also keeps our stage looking clean and safe, with every cable organized for a truly professional result.

Let‚Äôs keep going with excitement and faith, because together we‚Äôre making something special for all of us.`
  },

  4: {
    title_es: "üíª Fase 4 ‚Äì Computadora / Central de Audio y Video",
    title_en: "Phase 4 ‚Äì Computer / Audio & Video Powerhouse",
    sub_es: "(Gabinete, tarjeta madre, procesador, RAM, SSD, fuente de poder, ventiladores ‚Äî nuestra computadora y central para grabar, transmitir y controlar todo el sistema)",
    sub_en: "(Case, motherboard, CPU, RAM, SSD, power supply, fans ‚Äî our computer and powerhouse for recording, streaming, and running everything)",
    
    
    body: `¬°Esta fase es donde realmente nos ponemos creativos y damos un salto enorme hacia el futuro de nuestra iglesia! En vez de comprar una computadora costosa y limitada, vamos a construir una desde cero, pieza por pieza, eligiendo solo los mejores componentes. As√≠ obtenemos mucho m√°s rendimiento por la mitad del precio, y podemos asegurarnos de que todo funcione a la perfecci√≥n, tal como lo necesitamos.

Melvin pondr√° su experiencia y coraz√≥n en ensamblar este sistema, as√≠ que todo quedar√° hecho con amor y excelencia, pensando en nuestra familia de la fe.

Este computador ser√° el cerebro que grabar√° nuestros servicios, pr√°cticas, y hasta la m√∫sica de la alabanza en vivo. Tambi√©n ser√° el motor que, en el futuro, mostrar√° las letras de los cantos y vers√≠culos en las pantallas de la iglesia. Y, adem√°s, nos ayudar√° a manejar el sonido de la bater√≠a y otros equipos, ¬°todo en uno!
Una computadora poderosa y hecha a la medida nos prepara para todo lo que Dios tiene preparado, y nos ahorra mucho dinero.
¬°Qu√© bendici√≥n construir juntos las herramientas que har√°n crecer nuestra iglesia!
<hr style="border:none; border-top:1px solid #ff9100; margin:1.2em 0;">
This is the phase where we really get creative and take a huge step forward into the future of our church! Instead of buying an overpriced, limited computer, we‚Äôre going to build one from scratch‚Äîhand-picking each part for the best performance and value. That means we get way more power for less than half the price, and everything will work exactly how we need it.

Melvin will be putting his skills and care into building this system, so it‚Äôll be made with love and excellence for our church family.

This computer will be the ‚Äúbrain‚Äù that records our services, rehearsals, and even our worship music live. In the future, it‚Äôll power the screens to show song lyrics and Bible verses for everyone to see. It‚Äôll also help us run the drum sound, manage recordings, and keep everything running smoothly‚Äîall in one place!
A powerful, custom-built computer prepares us for everything that‚Äôs ahead, and saves us a lot of money.
What a blessing to build these tools together and watch our church grow!`
  },

  5: {
    title_es: "üîäü•Åüé• Fase 5 ‚Äì Bajo, Subwoofer, Bater√≠a Electr√≥nica y C√°maras",
    title_en: "Phase 5 ‚Äì Subwoofer, Electronic Drums & Streaming Camera",
    sub_es: "(Subwoofer, bater√≠a electr√≥nica, cables, c√°mara PTZ‚Äîm√°s presencia, mejor ritmo y video profesional)",
    sub_en: "(Subwoofer, electric drum set, cables, PTZ camera‚Äîbigger sound, better rhythm, and pro video)",
    body: `Hemos llegado a la √∫ltima fase de nuestro proyecto, confiando en que Dios ha guiado cada decisi√≥n para edificar Su iglesia con excelencia y prop√≥sito. Aqu√≠, el audio y la tecnolog√≠a se unen para llevar nuestra alabanza a otro nivel, no solo en volumen sino en la forma en que sentimos y vivimos la adoraci√≥n juntos como cuerpo de Cristo.

El subwoofer da ese toque de profundidad y fuerza que hace vibrar la m√∫sica y el mensaje, ayudando a que toda la congregaci√≥n pueda adorar con gozo y unidad‚Äî¬°especialmente porque en nuestra cultura la alabanza se siente en todo el ser!

La bater√≠a electr√≥nica es una inversi√≥n significativa, pero fue escogida con sabidur√≠a y pensando en el futuro. No es la opci√≥n m√°s barata, pero tampoco la m√°s cara: se seleccion√≥ porque tiene la calidad para durar y las funciones espec√≠ficas que nuestro hermano Saul necesita para ministrar. Gracias a su dise√±o silencioso, no ser√° necesario gastar en una cabina o escudo de bater√≠a (que muchas veces no funcionan de todos modos). El sonido va directo a la mezcladora, lo que significa menos ruido, menos gastos en el futuro, y m√°s armon√≠a en la m√∫sica.

La nueva c√°mara PTZ y sus accesorios nos ayudan a compartir la Palabra y nuestra adoraci√≥n con nuestra comunidad, alcanzando a quienes no pueden estar presentes con nosotros.

Cada parte de esta fase fue escogida con oraci√≥n y cuidado, buscando siempre dar lo mejor a Dios y bendecir a Su pueblo. ¬°Sigamos avanzando, agradecidos por Su provisi√≥n y creyendo que lo mejor est√° por venir!
<hr style="border:none; border-top:1px solid #ff9100; margin:1.2em 0;">
We‚Äôve reached the final phase of our project, trusting that God has led every decision as we build up His church with excellence and purpose. This is where audio and technology come together to take our worship to the next level‚Äînot just louder, but deeper, bringing us together as the body of Christ.

The subwoofer gives our sound that fullness and power, helping the whole congregation worship in unity and joy‚Äîbecause in our culture, worship is something you feel with your whole being!

The electronic drum set is a significant investment, but it was chosen wisely and for the long haul. It‚Äôs not the cheapest, but also not the most expensive‚Äîit was picked because it‚Äôs built to last, and has the exact features our brother Saul needs to serve. With its quiet design, we won‚Äôt have to spend money building a drum booth or fighting with a drum shield (which often don‚Äôt really work anyway). The sound goes straight to the mixer, meaning less noise, less expense down the road, and more harmony in our music.

The new PTZ camera and accessories help us share the Word and our worship with our community, reaching those who can‚Äôt be with us in person.

Every part of this phase has been chosen with prayer and care‚Äîalways seeking to give God our best and to bless His people. Let‚Äôs keep moving forward, grateful for His provision and believing the best is yet to come!`
  },

  6: {
    title_es: "üß© Accesorios ‚Äì Piezas Clave para Todas las Fases",
    title_en: "Accessories ‚Äì Key Pieces for Every Phase",
    sub_es: "(Cables, adaptadores, soportes y otros esenciales: los detalles que unen todo el sistema)",
    sub_en: "(Cables, adapters, mounts, and other essentials‚Äîthe details that hold everything together)",
    body: `Cada accesorio aqu√≠ es como una pieza del rompecabezas. Aunque parezcan peque√±os, son fundamentales para que todo el sistema funcione en armon√≠a y sin interrupciones. Estos detalles unen cada fase y hacen posible la excelencia en el sonido y la tecnolog√≠a de nuestra iglesia‚Äînada queda incompleto.

Son los conectores, adaptadores y extras que aseguran que cada cable est√© en su lugar, que todos los equipos puedan trabajar juntos, y que nunca nos falte lo esencial justo cuando m√°s se necesita. Porque cuando cada pieza encaja, la adoraci√≥n y el mensaje llegan con claridad y alegr√≠a a toda la congregaci√≥n.
<hr style="border:none; border-top:1px solid #ff9100; margin:1.2em 0;">
Every accessory here is like a puzzle piece. They may seem small, but they‚Äôre essential for making sure everything works together smoothly and without interruption. These are the details that tie every phase together and make excellence possible in our church‚Äôs sound and technology‚Äînothing is left incomplete.

These are the connectors, adapters, and extras that ensure every cable fits perfectly, every device works together, and we‚Äôre never missing what we need‚Äîespecially when it matters most. Because when every piece fits, our worship and message reach the whole church with clarity and joy.`
  }
};

/* =========================
   RENDER PHASE INTRO
   ========================= */
function renderPhaseIntro(phase) {
  const info = phaseIntros[phase];
  if (!info) return "";
  return `
    <h2>${info.title_es}<br>
      <span style="color:#aac; font-size:0.82em;">${info.title_en}</span><br><br>
    </h2>
    <div class="en">${info.sub_es}<br><br>${info.sub_en}</div>
    <div class="phase-intro">${info.body}</div>
    <div style="text-align:center; margin-bottom:.8em; font-size:0.7em; color:#ffe53b;">
      Haz clic en cualquier imagen para verla m√°s grande.<br>
      <span style="color:#aac;">Click any picture to enlarge it.</span>
    </div>
  `;
}

/* =========================
   IMAGE MODAL
   ========================= */
function enlargeImg(img) {
  const m = document.getElementById("imgModal");
  document.getElementById("modalImg").src = img.src;
  m.classList.add("active");
  m.onclick = () => m.classList.remove("active");
}

/* =========================
   PURCHASE BADGE
   ========================= */
function createBadge(purchased, qty) {
  const div = document.createElement("div");
  if (!qty || isNaN(qty)) qty = 0;
  if (!purchased || isNaN(purchased)) purchased = 0;

  if (purchased >= qty && qty > 0) {
    div.className = "badge green";
    div.textContent = "Completado / Completed";
  } else if (purchased === 0) {
    div.className = "badge";
    div.textContent = `Comprado/Purchased ${purchased}/${qty}`;
  } else {
    div.className = "badge yellow";
    div.textContent = `Comprado/Purchased ${purchased}/${qty}`;
  }
  return div;
}

/* =========================
   ITEM CARD
   ========================= */
function cardFor(item) {
  const card = document.createElement("div");
  card.className = "item";

  const qty = parseInt(item.quantity) || 0;
  const purchased = parseInt(item.purchased) || 0;

  const badge = createBadge(purchased, qty);
  const img = document.createElement("img");
  img.src = item.image_url || "";
  img.alt = item.title_en || item.title_es || "";
  img.onclick = () => enlargeImg(img);

  const title = document.createElement("div");
  title.className = "item-title";
  title.innerHTML = `${item.title_es || ""}<br><span class='en'>${item.title_en || ""}</span>`;

  const price = document.createElement("div");
  price.className = "price";
  price.textContent = item.price
  ? `$${parseFloat(item.price).toFixed(2)}`
  : "";

  const qtyDiv = document.createElement("div");
  qtyDiv.className = "qty";
  qtyDiv.textContent = qty ? "Cantidad / Quantity: " + qty : "";
  const desc = document.createElement("div");
  desc.className = "desc";
  desc.innerHTML = `${item.desc_es || ""}<br>${item.desc_en || ""}`;

  card.append(badge, img, title, price, qtyDiv, desc);
  return card;
}

/* =========================
   MESSAGE BOX
   ========================= */
async function loadMessage() {
  try {
    const res = await fetch(API_URL);
    const data = await res.json();
    const box = document.getElementById("messageCard");
    if (data.message && data.message.trim() !== "") {
      box.textContent = data.message;
      box.classList.add("active");
    } else {
      box.classList.remove("active");
    }
  } catch (err) {
    console.warn("No message box data found.", err);
  }
}

/* =========================
   LOAD PHASES
   ========================= */
async function loadPhases() {
  const phasesContainer = document.getElementById("phases");

  for (let i = 1; i <= 6; i++) {
    const res = await fetch(`${API_URL}?phase=${i}`);
    const data = await res.json();
    const validItems = (data.items || []).filter(it =>
      it && it.image_url && it.image_url.startsWith("http") &&
      !String(it.title_es).includes("Title")
    );

    if (!validItems.length) continue;

    const section = document.createElement("section");
    section.innerHTML = renderPhaseIntro(i) + `
      <div id="phase-items-${i}" class="phase-items"></div>
      <div class="registry-actions">
        <div class="qr">
          <img alt="QR ‚Äì Registry" src="https://api.qrserver.com/v1/create-qr-code/?size=260x260&data=https://bigmelv03.github.io/registry-website/">
          <div class="cap">Escanea para ver el registro<br><small>Scan to view the registry</small></div>
        </div>
        <div class="flash-reminder">
          <span>¬°No olvides buscar cupones de descuento antes de comprar!</span><br>
          <span style="font-size:0.98em">Don‚Äôt forget to check for coupons before you order!</span>
        </div>
        <a class="button" href="https://www.amazon.com/registries/gl/guest-view/1E6GZIQ5MG9GC" target="_blank">üõí Ordenar aqu√≠ / Order Here</a>
      </div>
    `;

    phasesContainer.append(section);

    const container = section.querySelector(`#phase-items-${i}`);
    validItems.forEach(it => container.append(cardFor(it)));
  }
}

/* =========================
   INIT
   ========================= */
document.addEventListener("DOMContentLoaded", async () => {
  await loadMessage();
  await loadPhases();
});
</script>
</body>
</html>
